"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),f=require("./AppDarkModeToggle.js"),l=require("./index2.js"),t=require("./components.js"),_=require("./Login.vue_vue_type_style_index_0_lang.js"),S=e.defineComponent({__name:"SessionTimeoutLogin",setup(g){const{prefixCls:u}=t.useDesign("st-login"),o=t.useUserStore(),i=t.usePermissionStore(),r=t.useAppStore(),n=e.ref(0),c=()=>r.getProjectConfig.permissionMode===t.PermissionModeEnum.BACK;return e.onMounted(()=>{var s;n.value=(s=o.getUserInfo)==null?void 0:s.userId,console.log("Mounted",o.getUserInfo)}),e.onBeforeUnmount(()=>{(n.value&&n.value!==o.getUserInfo.userId||c()&&i.getLastBuildMenuTime===0)&&document.location.reload()}),(s,m)=>(e.openBlock(),e.createBlock(e.Transition,null,{default:e.withCtx(()=>[(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(e.unref(u))},[e.createVNode(_._sfc_main,{sessionTimeout:""})],2))]),_:1}))}}),B=t._export_sfc(S,[["__scopeId","data-v-965688de"]]),k=e.defineComponent({name:"LayoutFeatures",__name:"index",setup(g){const u=l.createAsyncComponent(()=>Promise.resolve().then(()=>require("./index6.js"))),{getShowSettingButton:o,getSettingButtonPosition:i,getFullContent:r}=f.useRootSetting(),n=t.useUserStoreWithOut(),{prefixCls:c}=t.useDesign("setting-drawer-feature"),{getShowHeader:s}=l.useHeaderSetting(),m=e.computed(()=>n.getSessionTimeout),d=e.computed(()=>{if(!e.unref(o))return!1;const a=e.unref(i);return a===t.SettingButtonPositionEnum.AUTO?!e.unref(s)||e.unref(r):a===t.SettingButtonPositionEnum.FIXED}),{getShowMultipleTab:p}=l.useMultipleTabSetting();return(a,C)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[d.value&&(!e.unref(p)||e.unref(r))?(e.openBlock(),e.createBlock(e.unref(u),{key:0,class:e.normalizeClass(e.unref(c))},null,8,["class"])):e.createCommentVNode("",!0),m.value?(e.openBlock(),e.createBlock(B,{key:1})):e.createCommentVNode("",!0)],64))}});exports.default=k;
